
# 俄罗斯方块

为fx-991cnx(**ver C**)设计的俄罗斯方块游戏

## 效果

运行程序后即在屏幕上绘制出左侧由2条竖线围成的游戏区域及右侧的分数。游戏区域内的方块由3x3像素的小格组成，每行最多容纳10小格。

游戏规则与经典俄罗斯方块游戏基本一致，但不支持跳过下落过程，且方块下落速度在游戏过程中保持不变。

每消除一行可得一分，分数上限为255，超过上限则分数归零。若方块堆积至最上一行则判定死亡，将重置游戏区域及得分。

操作说明：

- 方向键左/右控制当前方块移动
- 方向键上/下控制当前方块旋转

## 注入

建议使用16进制编辑器完成该程序的注入。

基本要求：

- 将`tetris1.6.bin`中`0x260`至`0x873`(文件末尾)的内容注入至计算器内存的`0xE9E0`至`0xEFF3`处
- 将`tetris1.6.bin`中`0x0`(文件开头)至`0x25F`的内容注入至计算器内存的`0xD700`至`0xD95F`处
- 将`tetris_data_0xd980_1.6.bin`的全部内容注入至计算器内存的`0xD980`至`0xDD5F`处
- 若在正常输入模式下启动程序，则需输入`tetris_launcher_1.4.bin`的全部内容，并调整为**小字体模式**后按等号
- 若使用16进制编辑器的跳出功能直接进入程序，则需将`tetris_launcher_1.4.bin`中`0x30`后除去所有`48 38 31 30`之外的全部内容注入至计算器内存的`0xD596`至`0xD5B7`处，并将地址设置到`0xD594`处按AC键运行程序。**注意在运行前也须先修改字体设置字节为0x0A,否则将无法正常绘制游戏区域。**

使用16进制编辑器进行注入的自动按键脚本存储在`tetris_key_script_full.bin`中，该文件含有包括注入quickcpy及16进制编辑器在内的全部按键操作（需在进入124an复数线性模式后运行）。经测试，在模拟器中将`Emulator.cpp:34`处的CPU频率调整至原频率的4倍，并将注入器的按键时间，延迟时间分别设置为110ms,90ms的情况下注入脚本可正常完成全部注入操作。

若希望在模拟器上快速启动程序，则可在进入124an模式（复数，线性）后将`tetris1.6_script.txt`的全部内容复制到模拟器控制台中并执行，随后设置为小字体模式后按等号运行程序。